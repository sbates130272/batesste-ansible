---
# defaults file for grafana_setup

# Grafana configuration
# Note: Grafana's default admin username is always 'admin'
# The password is automatically synchronized after installation
grafana_setup_password: "{{ vault_grafana_setup_password }}"
grafana_setup_port: 3000
grafana_setup_domain: localhost
grafana_setup_root_url: >-
  http://{{ grafana_setup_domain }}:{{ grafana_setup_port }}/

# Additional user configuration (optional)
# Set to true to create an additional non-admin user
grafana_setup_create_user: false
grafana_setup_user_name: "{{ ansible_user }}"
grafana_setup_user_email: "{{ ansible_user }}@localhost"
grafana_setup_user_login: "{{ ansible_user }}"
grafana_setup_user_password: "{{ vault_grafana_setup_user_password | default('') }}"
grafana_setup_user_role: Admin  # Can be: Admin, Editor, or Viewer

# GitHub OAuth configuration (optional)
grafana_setup_github_auth_enabled: false
grafana_setup_github_client_id: >-
  {{ vault_grafana_setup_github_client_id | default('') }}
grafana_setup_github_client_secret: >-
  {{ vault_grafana_setup_github_client_secret | default('') }}
grafana_setup_github_allowed_orgs: []
grafana_setup_github_allow_sign_up: true
grafana_setup_github_auto_assign_org_role: Editor

# Prometheus configuration
grafana_setup_prometheus_port: 9090
grafana_setup_prometheus_data_dir: /var/lib/prometheus

# Node exporter configuration
grafana_setup_node_exporter_port: 9100

# ROCm/AMD GPU exporter configuration
grafana_setup_amd_gpu_exporter_port: 9400

# Network discovery configuration
grafana_setup_discover_node_exporters: false
grafana_setup_discover_amd_gpu_exporters: false
grafana_setup_discovery_network: "{{ ansible_default_ipv4.network }}/{{ ansible_default_ipv4.netmask }}"
grafana_setup_discovery_timeout: 2

# Dashboard provisioning
# Node Exporter Full dashboard - https://grafana.com/grafana/dashboards/1860
grafana_setup_provision_node_exporter_dashboard: true
grafana_setup_node_exporter_dashboard_id: 1860

# AMD GPU / ROCm dashboard - https://grafana.com/grafana/dashboards/12239
grafana_setup_provision_amd_gpu_dashboard: true
grafana_setup_amd_gpu_dashboard_id: 12239

# Enable/disable components
grafana_setup_install_prometheus: true
grafana_setup_install_node_exporter: true
